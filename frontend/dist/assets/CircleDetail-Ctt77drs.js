import{r as d,e as k,l as C,k as v,c as a,a as t,f as u,t as o,n as c,F as y,h as p,o as i}from"./index-zeHbsUPk.js";const w={key:0,class:"text-center py-12"},P={key:1},S={class:"flex justify-between items-start mb-8"},$={class:"text-3xl font-bold text-frontier-400 mb-2"},M={class:"text-dusty-300"},R={class:"grid md:grid-cols-4 gap-6 mb-8"},j={class:"card"},D={class:"text-3xl font-bold text-frontier-400"},I={class:"card"},B={class:"text-3xl font-bold text-starlight-400"},F={class:"card"},L={class:"text-3xl font-bold text-cosmic-400"},N={class:"card"},V={class:"text-lg font-bold text-green-400"},A={class:"card mb-8 bg-starlight-900/20 border-starlight-700"},E={class:"flex justify-between items-center"},T={class:"text-2xl font-mono font-bold"},z={class:"mb-6 border-b border-dusty-700"},U={class:"flex space-x-6"},q={key:0,class:"card"},G={class:"space-y-3"},H={class:"flex items-center space-x-3"},J={class:"w-10 h-10 bg-frontier-500 rounded-full flex items-center justify-center text-white font-bold"},K={class:"font-medium"},O={class:"text-sm text-dusty-400"},Q={class:"flex items-center space-x-3"},W={key:0,class:"btn-frontier text-sm"},X={key:1,class:"card"},Y={class:"space-y-2"},Z={class:"flex items-center space-x-3"},tt={class:"text-2xl"},et={class:"font-medium"},st={class:"text-sm text-dusty-400"},ot={class:"text-right"},nt={class:"font-bold text-frontier-400"},at={class:"text-xs text-dusty-400"},it={key:2,class:"card"},dt={__name:"CircleDetail",setup(lt){const f=C(),l=d("members"),m=d(!1),n=d({name:"",description:"",status:"pending",monthly_amount:0,current_members:0,max_members:0,current_cycle:1,next_payout_date:null,invite_code:""}),x=d([]),b=d([]),h=r=>new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric"}),g=()=>{navigator.clipboard.writeText(n.value.invite_code),alert("Invite code copied to clipboard!")};return k(async()=>{const r=f.params.id;m.value=!0;try{const e=await v.circles.getById(r);n.value=e.data.data;const s=await v.circles.getMembers(r);x.value=s.data.data;const _=await v.circles.getSchedule(r);b.value=_.data.data}catch(e){console.error("Error loading circle:",e),alert("Failed to load circle details. Please try again.")}finally{m.value=!1}}),(r,e)=>(i(),a("div",null,[m.value?(i(),a("div",w,[...e[3]||(e[3]=[t("div",{class:"spinner mx-auto"},null,-1),t("p",{class:"text-dusty-300 mt-4"},"Loading circle details...",-1)])])):(i(),a("div",P,[t("div",S,[t("div",null,[t("h1",$,o(n.value.name),1),t("p",M,o(n.value.description),1)]),t("span",{class:c(`badge-${n.value.status==="active"?"success":"warning"}`)},o(n.value.status),3)]),t("div",R,[t("div",j,[e[4]||(e[4]=t("div",{class:"text-dusty-400 text-sm mb-1"},"Monthly Amount",-1)),t("div",D,"$"+o(n.value.monthly_amount),1)]),t("div",I,[e[5]||(e[5]=t("div",{class:"text-dusty-400 text-sm mb-1"},"Members",-1)),t("div",B,o(n.value.current_members)+"/"+o(n.value.max_members),1)]),t("div",F,[e[6]||(e[6]=t("div",{class:"text-dusty-400 text-sm mb-1"},"Current Cycle",-1)),t("div",L,o(n.value.current_cycle),1)]),t("div",N,[e[7]||(e[7]=t("div",{class:"text-dusty-400 text-sm mb-1"},"Next Payout",-1)),t("div",V,o(h(n.value.next_payout_date)),1)])]),t("div",A,[t("div",E,[t("div",null,[e[8]||(e[8]=t("h3",{class:"font-semibold text-starlight-400 mb-1"},"Invite Code",-1)),t("p",T,o(n.value.invite_code),1)]),t("button",{class:"btn-starlight",onClick:g}," Copy Code ")])]),t("div",z,[t("div",U,[t("button",{class:c([l.value==="members"?"border-frontier-500 text-frontier-400":"border-transparent text-dusty-400","pb-3 border-b-2 font-medium transition-colors"]),onClick:e[0]||(e[0]=s=>l.value="members")}," Members ",2),t("button",{class:c([l.value==="schedule"?"border-frontier-500 text-frontier-400":"border-transparent text-dusty-400","pb-3 border-b-2 font-medium transition-colors"]),onClick:e[1]||(e[1]=s=>l.value="schedule")}," Payout Schedule ",2),t("button",{class:c([l.value==="payments"?"border-frontier-500 text-frontier-400":"border-transparent text-dusty-400","pb-3 border-b-2 font-medium transition-colors"]),onClick:e[2]||(e[2]=s=>l.value="payments")}," Payments ",2)])]),l.value==="members"?(i(),a("div",q,[e[9]||(e[9]=t("h3",{class:"text-xl font-semibold mb-4 text-frontier-400"},"Circle Members",-1)),t("div",G,[(i(!0),a(y,null,p(x.value,s=>(i(),a("div",{key:s.id,class:"flex items-center justify-between p-3 bg-dusty-700 rounded-lg"},[t("div",H,[t("div",J,o(s.name.charAt(0)),1),t("div",null,[t("p",K,o(s.name),1),t("p",O,"Credit Score: "+o(s.credit_score),1)])]),t("div",Q,[t("span",{class:c(`badge-${s.status==="active"?"success":"warning"}`)},o(s.status),3),s.status==="pending"?(i(),a("button",W," Vouch ")):u("",!0)])]))),128))])])):u("",!0),l.value==="schedule"?(i(),a("div",X,[e[10]||(e[10]=t("h3",{class:"text-xl font-semibold mb-4 text-frontier-400"},"Payout Schedule",-1)),t("div",Y,[(i(!0),a(y,null,p(b.value,(s,_)=>(i(),a("div",{key:_,class:"flex items-center justify-between p-3 bg-dusty-700 rounded-lg"},[t("div",Z,[t("span",tt,o(s.has_received_payout?"✅":s.position_in_cycle===n.value.current_cycle?"➡️":"⏳"),1),t("div",null,[t("p",et,o(s.user_name),1),t("p",st,"Position "+o(s.position_in_cycle),1)])]),t("div",ot,[t("p",nt,"$"+o(s.monthly_amount*n.value.current_members),1),t("p",at,o(s.has_received_payout?"Received":"Pending"),1)])]))),128))])])):u("",!0),l.value==="payments"?(i(),a("div",it,[...e[11]||(e[11]=[t("h3",{class:"text-xl font-semibold mb-4 text-frontier-400"},"Recent Payments",-1),t("div",{class:"text-center py-8 text-dusty-400"}," Payment history coming soon... ",-1)])])):u("",!0)]))]))}};export{dt as default};
